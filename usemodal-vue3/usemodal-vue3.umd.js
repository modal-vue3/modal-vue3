(function(i,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i["usemodal-vue3"]={},i.Vue))})(this,function(i,e){"use strict";const n=e.reactive({});e.reactive({});const d={currOrder:0,triggerTotal:0,list:[],track(t){this.list.push(t)},trigger(t,o){if(this.triggerTotal++,this.list=this.list.map(r=>(r.name===t&&(r.visible=o),r)),this.triggerTotal===this.list.length)if(this.currOrder<this.list.length){for(;this.currOrder<this.list.length&&(n[this.list[this.currOrder].name]=this.list[this.currOrder].visible,!this.list[this.currOrder].visible);)this.currOrder++;this.currOrder=0}else this.triggerTotal=0,this.trigger(t,o)}};function c(){console.log("ok")}function a(){console.log(n,"currVisible"),n.m1=!1,console.log("cancel")}const u=e.defineComponent({props:{visibles:Object,order:Object},setup(t,{slots:o}){const r=t.order,f=t.visibles;if(r){for(let l in r){let s={name:l,order:Number(r[l])};d.track(s)}d.list.sort((l,s)=>l.order-s.order)}return e.watch(f,l=>{d.triggerTotal=0;for(let s in l)d.trigger(s,l[s])}),()=>{if(o.default)return e.h("div",null,o.default(n))}}}),h=e.defineComponent({props:{mask:Boolean,visible:Boolean},setup(t,{slots:o}){return()=>{if(o.default)return t.visible?e.h("div",null,[e.h("div",{style:"width:100%;height:100%;position:fixed;left:0;top:0;background-color:rgba(0, 0, 0, 0.25)"}),e.h("div",{style:"position:fixed;left:0;right:0;top:0;bottom:0;margin: 0 auto;z-index:1000;overflow:auto;outline:0;"},[e.h("div",{class:"modal-vue3-content",style:"width:500px;position:relative;top:100px;margin: 0 auto;overflow:auto;outline:0;box-sizing:border-box;background-color:#fff;"},[e.h("div",{class:"modal-vue3-header"},e.h("div",null,"Title")),e.h("div",null,o.default()),e.h("div",{class:"modal-vue3-footer"},[e.h("div",{class:"modal-vue3-footer-cancel",onclick:a},"cancel"),e.h("div",{class:"modal-vue3-footer-ok",onclick:c},"ok")])])])]):null}},mounted(){this.$emit("cacel",t=>{console.log(21213)})}});i.Modal=h,i.ModalGroup=u,Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
